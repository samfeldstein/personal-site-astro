---
// Layout
// Must be imported before stylesheet or base styles will take precedence
import BaseLayout from "./BaseLayout.astro";

// Components
import MenuMain from "../components/MainMenu.astro";
import SiteLogo from "../components/SiteLogo.astro";
import Contents from "../components/Contents.astro";
import MainContent from "../components/MainContent.astro";

// Styles
import "/src/styles/default-page.scss";

const { frontmatter, headings } = Astro.props;
---

<BaseLayout
  title={frontmatter.tabTitle || frontmatter.title}
  description={frontmatter.description}
>
  <MainContent>
    <header class="header-page" aria-label="Page Header">
      <h1>{frontmatter.title}</h1>
      {
        frontmatter.updated && (
          <p class="updated">
            This page was updated on
            <span class="date">{frontmatter.updated}</span>.
          </p>
        )
      }
      {frontmatter.toc && <Contents headings={headings} />}
    </header>
    <slot />
  </MainContent>
</BaseLayout>

<style is:global type="scss">
  .updated {
    font-style: italic;
    margin: 0;
  }

  .date {
    font-style: normal;
    font-weight: bold;
    font-size: inherit;
  }

  .toc {
    summary {
      text-transform: capitalize;
      font-variant: small-caps;
      font-weight: bold;
      cursor: pointer;
    }

    li {
      margin: 0.5em 0;
    }
  }
</style>
